{% extends "page.html" %}

{% block jsonld %}
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "@id": "{{ page.permalink }}#post",
    "name": "{{ page.title }}",
    "description": "{{ page.description }}",
    "wordCount": "{{ page.word_count }}",
    "keywords": "{{ page.taxonomies.tags | default(value=[]) | join(sep=', ') }}",
    "datePublished": "{{ page.date | date(timezone='Etc/UCT', format='%F') }}",
    "dateModified": "{{ page.updated | default(value=page.date) | date(timezone='Etc/UCT', format='%F') }}",
    "author": {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Lark"
    },
    "license": "https://creativecommons.org/licenses/by-nc/4.0/"
  }
</script>
{% endblock %}

{% block heading %}
{% set section = get_section(path="log/_index.md", metadata_only=true) %}
{{ section.title }}
{% endblock %}

{% block content %}

{% set vim_file_path = "./log/" ~ page.slug ~ ".md" %}

<script src="/assets/vim.js" defer></script>

<article aria-labelledby="post-title">
  <h2 id="post-title">{{ page.title }}</h2>

  <p>
    <code><span class="bright-white">$</span> vim {{ vim_file_path }}</code>
  </p>

  <div class="post-body">
    <div class="post-content">
      {{ page.content | safe }}
    </div>

    <div class="post-decoration">
      <div class="vim-eob">~</div>
      <div class="vim-eob">~</div>
      <div class="vim-eob">~</div>
      <div class="vim-eob">~</div>
      <div class="vim-eob">~</div>

      <div class="vim-statusline">
        <div>
          <span id="vim-mode" class="bright-green-reverse">&nbsp;NORMAL&nbsp;</span>
          <span>{{ vim_file_path }}</span>
        </div>
        <div class="vim-word-count">
          <span>&nbsp;{{ page.word_count }} words&nbsp;</span>
        </div>
      </div>
    </div>
  </div>

  <p>
    &lt;-
    <a href="{{ get_url(path='@/log/_index.md') }}">
      Back
    </a>
  </p>
</article>
{% endblock %}
